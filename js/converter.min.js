function urlChangeEvent(){var n=document.getElementById("url").value,s,e,t;try{s=new URL(n),e=s.searchParams,e.delete("ar_codes_"),e.delete("ar_select_"),e.delete("highlighted_date"),e.delete("periodo_didattico"),e.delete("list"),e.delete("col_cells"),e.delete("empty_box"),e.delete("only_grid"),e.delete("week_grid_type"),e.delete("all_events"),e.delete("faculty_group"),t=s.toString().replace("index.php","export/ec_download_ical_list.php")}catch(e){t=invalidURL}document.getElementById("ical-button").disabled=!0,n==""?t="":n.includes(unimiURL)?document.getElementById("ical-button").disabled=!1:t=invalidURL,document.getElementById("url-ical").value=t}function copyUrlToClipboard(){var e=document.getElementById("url-ical").value;navigator.clipboard.writeText(e).then(function(){displayResult(!0)},function(){displayResult(!1)})}function displayResult(t){var e="";t?e=alertSuccess:e=alertError,document.getElementById("result").innerText=e,toggleAlertText(!0)}function toggleAlertText(e){e?(document.getElementById("result").style.animation="fadeIn 0.7s",document.getElementById("result").style["-webkit-animation"]="fadeIn 0.7s",document.getElementById("result").style["-moz-animation"]="fadeIn 0.7s",document.getElementById("result").style["-o-animation"]="fadeIn 0.7s",document.getElementById("result").style["-ms-animation"]="fadeIn 0.7s",setTimeout(function(){document.getElementById("result").style.opacity=1},700),setTimeout(function(){toggleAlertText(!1)},6e3)):(document.getElementById("result").style.animation="fadeOut 0.7s",document.getElementById("result").style["-webkit-animation"]="fadeOut 0.7s",document.getElementById("result").style["-moz-animation"]="fadeOut 0.7s",document.getElementById("result").style["-o-animation"]="fadeOut 0.7s",document.getElementById("result").style["-ms-animation"]="fadeOut 0.7s",setTimeout(function(){document.getElementById("result").style.opacity=0},699))}navigator.clipboard||(document.getElementById("ical-button").disabled=!0,document.getElementById("result").innerText=copyNotSupported,document.getElementById("result").style.opacity=1),urlChangeEvent()